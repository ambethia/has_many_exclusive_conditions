<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: README</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>README</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>README
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Tue Nov 27 11:50:39 -0500 2007</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h1><a href="../classes/HasManyExclusiveConditions.html">HasManyExclusiveConditions</a></h1>
<table>
<tr><td valign="top">Author:</td><td>Jason L Perry (<a href="http://ambethia.com">ambethia.com</a>, <a
href="http://paint.itred.org">paint.itred.org</a>)

</td></tr>
<tr><td valign="top">Copyright:</td><td>Copyright (c) 2007 Jason L Perry

</td></tr>
<tr><td valign="top">License:</td><td>MIT

</td></tr>
<tr><td valign="top">URI:</td><td><a
href="http://subvert.itred.org/has_many_exclusive_conditions">subvert.itred.org/has_many_exclusive_conditions</a>

</td></tr>
</table>
<h2>Description</h2>
<p>
This plugin adds an :exclusive_conditions option to ActiveRecord&#8216;s
has_many association. This let&#8216;s you express ideas that are otherwise
impossible with the default rails generated sql.
</p>
<h3>Caveat Emptor!</h3>
<p>
You need to becareful with how rails interpolates your string to create the
generated SQL. If you plan on using instance variables or methods in the
fragment, be sure to use an UNinterpolated ruby string (ie, %q or single
quotes). Also, be aware of boolean values and other things that are not
always database agnostic. ActiveRecord methods like <tt>quote_value</tt>
can be your friend.
</p>
<h2>Example</h2>
<p>
In this example, we want to create an association for a User&#8216;s
record, or if that user is an admin, all records will be included.
</p>
<pre>
  User.has_many :accessible_records, :exclusive_conditions =&gt; %q(records.user_id = #{id} OR #{is_admin})
</pre>
<p>
Will generate SQL like:
</p>
<pre>
  SELECT * FROM things WHERE (`things`.user_id = 1 OR true)
</pre>
<p>
Instead of the SQL from regular +:condition+ option:
</p>
<pre>
  SELECT * FROM things WHERE (`things`.user_id = 1) AND (`things`.user_id = 1 OR true)
</pre>

    </div>


   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>